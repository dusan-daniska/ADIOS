<?php

{{ builderInfo.php|raw }}

namespace {{ thisController.namespace }};

class {{ thisController.class }} extends \ADIOS\Core\Widget\Controller {

  public function validateInputs() {
    // Validate the $this->adios->params variable.
    // On error, you can e.g. throw an exception or redirect to different URL
    // Uncomment following code as an example.

    return TRUE;
  }

  public function getViewParams(): array {
    if (!$this->validateInputs()) {
      $this->adios->router->redirectTo("");
    }

    // build-up view params
    {% if thisController.config.params %}$this->viewParams = array_merge(
      $this->params,
{{ varExport(thisController.config.params, "      ")|raw }} ?? []
    );{% else %}$this->viewParams = $this->adios->params;{% endif %}


    // return viewParams for ADIOS Twig renderer
    return $this->viewParams;
  }
}
